<div class="component component-inner admin-component">
  <div *ngIf="!editing" class="add-profile">
    <h3>Ajouter un profil</h3>
    <form (ngSubmit)="onSubmit()" #profileForm="ngForm">

      <div class="form-group required">
        <label for="name">Nom</label>
        <input type="text" [(ngModel)]="model.name" class="form-control" id="name" name="name" required>
      </div>

      <div class="form-group required">
        <label for="imgUrl">Description courte</label>
        <input type="text" [(ngModel)]="model.description" class="form-control" id="description" name="description" required>
      </div>


      <div class="form-group required">
        <label for="imgUrl">Description longue</label>
        <!--textarea [(ngModel)]="model.body" class="form-control" id="body" name="body" required -->
      </div>
     
      <div class="form-group">
        <button type="submit" class="btn btn-success" [disabled]="!profileForm.form.valid">Ajouter le profil</button>
      </div>
    </form>
  </div>

    <div *ngIf="editing" class="edit-profile">
    <h3>Editer le profil {{editingProfile.number}}</h3>
    <form (ngSubmit)="editProfile(editingProfile.id)" #editProfileForm="ngForm">

      <div class="form-group required">
        <label for="name">Nom</label>
        <input type="text" [(ngModel)]="editingProfile.name" class="form-control" id="name" name="name" required>
      </div>

      <div class="form-group required">
        <label for="description">Description</label>
        <input type="text" [(ngModel)]="editingProfile.description" class="form-control" id="description" name="description" required>
      </div>
      <div class="form-group">
        <button type="submit" class="btn btn-warn" (click)="editing = false">Annuler l'Ã©dition</button>
        <button type="submit" class="btn btn-success" [disabled]="!editProfileForm.form.valid">Sauvegarder le profil</button>
      </div>
    </form>
  </div>
  <div class="profile-list">
    <table *ngIf="profiles.length > 0" class="list">
      <tbody>
        <tr *ngFor="let profile of profiles">
          <td><strong>{{profile.id}}</strong></td>
          <td>{{profile.name}}</td>
          <td class="l">{{profile.description}}</td>
          <td class="xs"><button (click)="editing='true' && editingProfile = profile">edit</button></td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
